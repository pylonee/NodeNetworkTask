# Node Network

![Version](https://img.shields.io/badge/version-1.0.0-blue)
![License](https://img.shields.io/badge/license-MIT-blue)


## Описание проекта

Node Network - симулятор сети узлов, в которой каждый узел может взаимодействовать с другими узлами.
Проект реализован на __C++14__.

## Основные функции

Узлы сети могут выполнять следующие действия:
- **Создавать события** (в рамках данной реализации создаются случайные числа)
- **Подписываться** на соседей своих соседей
- **Отписываться** от своих соседей
- **Создавать новые узлы**
- **Ни чего не делать**

## Архитектура

1. **Узел (Node)**
	- управляет своими подпискаими и подписчикам
	- Обрабатывает входящие события
	- Выполняет одно действие за цикл

2. **Сеть (Network)**
	- Содержит все узлы в сети
	- Управляет циклами обновления
	- Синхронность выполнения

## Запуск проекта

### Требования
- C++14

### Сборка
- Откройте файл .sln и запустите build

### Запуск

1. Скопируйте репозиторий
2. Убедитесь, что установлен стандарт **C++14**
	- **Properties -> C/C++ -> Language -> C++ Language Standart -> ISO C++14 Standart**
3. **ctrl + F5** для запуска

## Пример работы

### Вывод в консоль

```
	--- Network Simulation Start ---


	  --- Cycle0 ---
	Nodes in network: 5


	  --- Cycle1 ---
	Nodes in network: 3
	Node_1 -> Node_2: N = 1
	Node_3 -> Node_2: N = 1


	  --- Cycle2 ---
	Nodes in network: 2

	Network die after 3 cycles
	--- Network simulation finish ---
```

### Формат вывода
- Node_x -> Node_y: N = число - количество событий от отправителя
- Node_x -> Node_y: N = число - сумма всех чисел от отправителя

## Условия работы

1. Синхронное обновление - изменения применяются после обрабьотки всех узлов
2. **Одно действие за цикл** - каждый узел выполняет толбько одно действие
3. **Новые узлы** - создаются в текущем цикле, начинают работать в следующем
4. **Удаление узлов** - узлы без подписчиков удаляются автоматически в конце цикла
5. **Обработчики событий:
	- N-обработчик - подсчитывает количество событий от отправителя
	- S-обработчик - подсчитывает сумму чисел от отправителя

## Управление параметрами

В файле **NodeNetwork.cpp** можно изменить параметры симуляции:

```cpp
Network network(5, 0.4, 0.3, 0.1, 0.1, 0.1);

/*
* - начальное количество узлов: 5 
* - вероятности действий:
* -- Создать событие: 40%
* -- Подписаться на узел 30%
* -- Отписаться от узла 10%
* -- Создать новый узел 10%
* -- Ни чего не делать 10%

* - сумма вероятностей должна равнятся примерно 1.0
* - 0.4 + 0.3 + 0.1 + 0.1 + 0.1 = 1.0
*/
```

### Разработано в рамках тестового задания